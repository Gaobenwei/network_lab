# 检查点7:衡量互联网（没有做）

在本课的这一阶段，你们已经实现了互联网基础设施的大部分功能。本检查点主要是测量实际的互联网，并报告特定路径的长期统计数据

## 收集数据

1. 在Internet上选择一台RTT(来自VM)至少为100毫秒的远程主机。一些可能性:

•www.cs.ox.ac.uk(牛津大学计算机系网站服务器，英国)
•162.105.253.58(北京大学计算机中心)
•www.canterbury.ac.nz(坎特伯雷大学网站服务器，新西兰)
•41.186.255.86 (MTN卢旺达)
•首选:原始选择，RTT距离您至少100毫秒

2. 使用mtr或traceroute命令跟踪VM和该主机之间的路由。

3. 运行 ping 至少两小时，以收集该互联网路径的数据。使用 ping -D -n -i 0.2 hostname | tee data.txt 这样的命令将数据保存到 "data.txt "文件中。(参数 -D 使 ping 记录每一行的时间戳，-i 0.2 使其每 0.2 秒发送一条 "echo request"（回声请求）ICMP 消息。参数 -n 会使 ping 跳过使用 DNS 反向查找回复 IP 地址到主机名的过程）。

注意：每 0.2 秒进行一次默认大小的 ping 即可，但请不要向任何人发送比这更快的流量。 

## 分析数据

如果您在两个小时内每秒发送 5 个 ping，那么您将发送大约 36,000 个 echo 请求（= 5 × 3600 × 2），我们预计其中绝大多数会在 ping 输出中收到回复。请使用您选择的编程语言和制图工具编写一份报告（PDF 格式），其中至少包含以下信息：

1. 整个时间间隔内的总发送率是多少？换句话说，收到多少回波应答，除以发出多少回波请求？

2. 最长的连续成功 ping（连续回复）是多少？
3. 最长的连续丢失（连续未回复）是多少？
4. 随着时间的推移，"丢包 "事件的独立性或相关性如何？换句话说

​	•给定应答请求#N收到应答，应答请求#(N+1)也被成功应答的概率是多少?
​	•给定回声请求#N没有收到应答，回声请求#(N+1)被成功应答的概率是多少?
​	•如何将这些数字(有条件的投递率)与第一个问题中的整体“无条件”数据包投递率进行比较?损失是独		立的还是突发性的?

5. 整个区间内的最小RTT是多少?(这可能是真实MinRTT的合理近似…)

6.     整个时间间隔的最大RTT是多少?
7.     画一个RTT随时间的函数图。将x轴标记为一天中的实际时间(覆盖2+小时的时间段)，y轴应该是RTT的毫秒数。
8.     可选:制作观察到的rtt分布直方图。分布的大致形状是什么?
9.     可选:制作“ping #N的RTT”与“ping #N+1的RTT”的相关性图。x轴应该是第一个RTT的毫秒数，y轴应该是第二个RTT的毫秒数。RTT随时间的相关性如何?

10. 您从数据中得出了什么结论？网络路径的表现是否符合你的预期？通过观察图表和汇总统计数据，有哪些地方（如果有的话）让你感到惊讶？

请通过 Gradescope 以 PDF 格式提交您的报告，祝您有一个愉快的暑假！如果您喜欢这门课，下一门好课包括 CS155（计算机与网络安全）、CS244（网络高级专题）和 CS249i（现代互联网）